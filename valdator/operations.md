1) 
$ cd /home/validator/build_ton/utils

$ validator-engine-console -k client -p server.pub -a 185.95.213.104:8282
  local key: 4864CF4A8DB70CB86675588EB57232F0553B7DCDF017075A06387B7EFC208067
  remote key: D60D1826421CFD2DBB34AB86A56D60FE0F599C8DC15D5036595ACCC9C0FBD474
  conn ready
> newkey
created new key E8A5EF4A8564D0C5D3ADFF0721DE260F1A2FA13A011CC6CF67049F633226E670
> exportpub E8A5EF4A8564D0C5D3ADFF0721DE260F1A2FA13A011CC6CF67049F633226E670
  got public key: xrQTSPn76PGojxKcovvcI3F/efftxyg+/Pysax2YBH/uqiJZ

## Our validator public key: E8A5EF4A8564D0C5D3ADFF0721DE260F1A2FA13A011CC6CF67049F633226E670

## You should look for it in participant_list command.

> addpermkey E8A5EF4A8564D0C5D3ADFF0721DE260F1A2FA13A011CC6CF67049F633226E670 1588771106 1588671106 //текущее время блока + 100000

## > getconfig 15
## [ 3][t 2][1588770876.409024954][lite-client.cpp:2488][!testnode]        requesting 1 configuration parameters with respect to masterchain block (-1,8000000000000000,3623204):5BE7AC4553C0CD5671A4C4D20380333D526B18A0D5294B9244411050F8BB2567:FD1094A4CDC858B6DFDEBDE4E9D2B87CE1AF20FC5828357FAE55D417C5805E8D
## [ 3][t 2][1588770876.444978714][lite-client.cpp:2504][!testnode]        got configuration parameters
## ConfigParam(15) = ( validators_elected_for:65536 elections_start_before:32768 elections_end_before:8192 stake_held_for:32768)
## x{00010000000080000000200000008000}

success
> addtempkey E8A5EF4A8564D0C5D3ADFF0721DE260F1A2FA13A011CC6CF67049F633226E670 E8A5EF4A8564D0C5D3ADFF0721DE260F1A2FA13A011CC6CF67049F633226E670 1588671106
success

#### ADNL ADDRESS!!!!
> newkey
created new key DD8E8E473F1B30545FD839232ECD7996F0144D1C56B1A846B78A6B47DBDFAD22
> addadnl DD8E8E473F1B30545FD839232ECD7996F0144D1C56B1A846B78A6B47DBDFAD22 0
success
> addvalidatoraddr E8A5EF4A8564D0C5D3ADFF0721DE260F1A2FA13A011CC6CF67049F633226E670 DD8E8E473F1B30545FD839232ECD7996F0144D1C56B1A846B78A6B47DBDFAD22 1588671106
success

## Now DD8E8E473F1B30545FD839232ECD7996F0144D1C56B1A846B78A6B47DBDFAD22 is a new ADNL address,
which will be used by the Full Node for running as a validator with the public key E8A5EF4A8564D0C5D3ADFF0721DE260F1A2FA13A011CC6CF67049F633226E670,
 with expiration time set to 1588671106  Tue, 05 May 2020 09:31:46 GMT

2)
 Creating an election participation request
 $ cd /home/validator/git_ton/crypto/smartcont

создать setenv_sample с содержанием

```
export TON_GIT=/home/validator/git_gitton
export TON_LITE_CLIENT=$TON_GIT/../liteclient-build/lite-client
export FIFT=$TON_GIT/../liteclient-build/crypto
export FIFTPATH=$FIFT:$TON_GIT/crypto/fift/lib:$TON_GIT/crypto/smartcontract
export PATH=$PATH:$FIFTPATH:$TON_LITE_CLIENT
alias ufo="find . -type f | xargs grep -i "
```

3) 

$ . setenv_sample

$ fift -s validator-elect-req.fif @new-validator-wallet.addr ELECTION_ID 2.7 NEW_VALIDATOR_ADNL
$ fift -s validator-elect-req.fif kf-Qzig-pbvvGWjN4jJFOi0jggT_bOxGcKcjACSBVzWjo1Yx 1588771106 2.7 DD8E8E473F1B30545FD839232ECD7996F0144D1C56B1A846B78A6B47DBDFAD22
> Creating a request to participate in validator elections at time 1588771106 from smart contract Uf+Qzig+pbvvGWjN4jJFOi0jggT/bOxGcKcjACSBVzWjo7B+ = -1:90ce283ea5bbef1968cde232453a2d238204ff6cec4670a7230024815735a3a3  with maximal stake factor with respect to the minimal stake 176947/65536 and validator ADNL address dd8e8e473f1b30545fd839232ecd7996f0144d1c56b1a846b78a6b47dbdfad22
  654C50745EB2B9220002B33390CE283EA5BBEF1968CDE232453A2D238204FF6CEC4670A7230024815735A3A3DD8E8E473F1B30545FD839232ECD7996F0144D1C56B1A846B78A6B47DBDFAD22
  ZUxQdF6yuSIAArMzkM4oPqW77xlozeIyRTotI4IE_2zsRnCnIwAkgVc1o6Pdjo5HPxswVF_YOSMuzXmW8BRNHFaxqEa3imtH29-tIg==
  Saved to file validator-to-sign.bin

4) 

Далее
$ cd /home/validator/build_ton/utils
$ validator-engine-console -k client -p server.pub -a 185.95.212.75:8282
> sign E8A5EF4A8564D0C5D3ADFF0721DE260F1A2FA13A011CC6CF67049F633226E670 654C50745EB2B9220002B33390CE283EA5BBEF1968CDE232453A2D238204FF6CEC4670A7230024815735A3A3DD8E8E473F1B30545FD839232ECD7996F0144D1C56B1A846B78A6B47DBDFAD22
got signature 6ffmkw7YS0PkGS5rsbadXykohdCsj9y1+dnsoOGBtxU0ORpopDa/++zC9lLU/+C8hXYCvZ861sogINbVTyDlCw==

5)
$ cd /home/validator/git_ton/crypto/smartcont
$ . setenv_sample
$ fift -s validator-elect-signed.fif kf-Qzig-pbvvGWjN4jJFOi0jggT_bOxGcKcjACSBVzWjo1Yx 1588771106 2.7 DD8E8E473F1B30545FD839232ECD7996F0144D1C56B1A846B78A6B47DBDFAD22 xrQTSPn76PGojxKcovvcI3F/efftxyg+/Pysax2YBH/uqiJZ 6ffmkw7YS0PkGS5rsbadXykohdCsj9y1+dnsoOGBtxU0ORpopDa/++zC9lLU/+C8hXYCvZ861sogINbVTyDlCw==
or 
$ fift -s validator-elect-signed.fif @new-validator-wallet.addr ELECTION_ID 2.7 NEW_VALIDATOR_ADNL EXPORT_PUB_KEY SIGNATURE

> Creating a request to participate in validator elections at time 1588771106 from smart contract Uf+Qzig+pbvvGWjN4jJFOi0jggT/bOxGcKcjACSBVzWjo7B+ = -1:90ce283ea5bbef1968cde232453a2d238204ff6cec4670a7230024815735a3a3  with maximal stake factor with respect to the minimal stake 176947/65536 and validator ADNL address dd8e8e473f1b30545fd839232ecd7996f0144d1c56b1a846b78a6b47dbdfad22
  String to sign is: 654C50745EB2B9220002B33390CE283EA5BBEF1968CDE232453A2D238204FF6CEC4670A7230024815735A3A3DD8E8E473F1B30545FD839232ECD7996F0144D1C56B1A846B78A6B47DBDFAD22
  Provided a valid Ed25519 signature E9F7E6930ED84B43E4192E6BB1B69D5F292885D0AC8FDCB5F9D9ECA0E181B71534391A68A436BFFBECC2F652D4FFE0BC857602BD9F3AD6CA2020D6D54F20E50B with validator public key F9FBE8F1A88F129CA2FBDC23717F79F7EDC7283EFCFCAC6B1D98047FEEAA2259
  query_id set to 1588784835  
  Message body is x{4E73744B000000005EB2EEC3F9FBE8F1A88F129CA2FBDC23717F79F7EDC7283EFCFCAC6B1D98047FEEAA22595EB2B9220002B333DD8E8E473F1B30545FD839232ECD7996F0144D1C56B1A846B78A6B47DBDFAD22}
   x{E9F7E6930ED84B43E4192E6BB1B69D5F292885D0AC8FDCB5F9D9ECA0E181B71534391A68A436BFFBECC2F652D4FFE0BC857602BD9F3AD6CA2020D6D54F20E50B}
  Saved to file validator-query.boc

!!!! Внимание - это правильный паблик кей - F9FBE8F1A88F129CA2FBDC23717F79F7EDC7283EFCFCAC6B1D98047FEEAA2259
Convert it to decimal https://coding.tools/hex-to-decimal and use decimal number to find yourself in participants list later.
My decimal - 113070985630743629062136858630852630486909661234061333750337449274676683088473 (after convertation)

6) 
$ sudo -s
$ . setenv_sample


$ fift -s wallet.fif my_wallet_id -1:3333333333333333333333333333333333333333333333333333333333333333 1 100001. -B validator-query.boc
or
$ fift -s wallet.fif kf-Qzig-pbvvGWjN4jJFOi0jggT_bOxGcKcjACSBVzWjo1Yx -1:3333333333333333333333333333333333333333333333333333333333333333 10 10001. -B validator-query.boc

>Source wallet address = -1:90ce283ea5bbef1968cde232453a2d238204ff6cec4670a7230024815735a3a3
kf-Qzig-pbvvGWjN4jJFOi0jggT_bOxGcKcjACSBVzWjo1Yx
Loading private key from file my_wallet_id.pk
Transferring GR$100001. to account kf8zMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzM_BP = -1:3333333333333333333333333333333333333333333333333333333333333333 seqno=0x1 bounce=-1
Body of transfer message is x{4E73744B000000005EB2EEC3F9FBE8F1A88F129CA2FBDC23717F79F7EDC7283EFCFCAC6B1D98047FEEAA22595EB2B9220002B333DD8E8E473F1B30545FD839232ECD7996F0144D1C56B1A846B78A6B47DBDFAD22}
 x{E9F7E6930ED84B43E4192E6BB1B69D5F292885D0AC8FDCB5F9D9ECA0E181B71534391A68A436BFFBECC2F652D4FFE0BC857602BD9F3AD6CA2020D6D54F20E50B}
StateInit is x{4_}
signing message: x{0000000103}
 x{627F9999999999999999999999999999999999999999999999999999999999999999B2D79A60A8500000000000000000000000000001}
  x{4E73744B000000005EB2EEC3F9FBE8F1A88F129CA2FBDC23717F79F7EDC7283EFCFCAC6B1D98047FEEAA22595EB2B9220002B333DD8E8E473F1B30545FD839232ECD7996F0144D1C56B1A846B78A6B47DBDFAD22}
   x{E9F7E6930ED84B43E4192E6BB1B69D5F292885D0AC8FDCB5F9D9ECA0E181B71534391A68A436BFFBECC2F652D4FFE0BC857602BD9F3AD6CA2020D6D54F20E50B}
resulting external message: x{89FF219C507D4B77DE32D19BC4648A745A470409FED9D88CE14E46004902AE6B474604DB4614B2B2C8EC3EECA0AA47A0703CB1A80F96037D2E35000D5F13CB3BE44B57A85E4801142EF711042B19D0FECBAA9CEC09D5E79BF2AC806FE717CF5CAC9028000000081C_}
 x{627F9999999999999999999999999999999999999999999999999999999999999999B2D79A60A8500000000000000000000000000001}
  x{4E73744B000000005EB2EEC3F9FBE8F1A88F129CA2FBDC23717F79F7EDC7283EFCFCAC6B1D98047FEEAA22595EB2B9220002B333DD8E8E473F1B30545FD839232ECD7996F0144D1C56B1A846B78A6B47DBDFAD22}
   x{E9F7E6930ED84B43E4192E6BB1B69D5F292885D0AC8FDCB5F9D9ECA0E181B71534391A68A436BFFBECC2F652D4FFE0BC857602BD9F3AD6CA2020D6D54F20E50B}
B5EE9C724102040100013D0001CF89FF219C507D4B77DE32D19BC4648A745A470409FED9D88CE14E46004902AE6B474604DB4614B2B2C8EC3EECA0AA47A0703CB1A80F96037D2E35000D5F13CB3BE44B57A85E4801142EF711042B19D0FECBAA9CEC09D5E79BF2AC806FE717CF5CAC9028000000081C01016C627F9999999999999999999999999999999999999999999999999999999999999999B2D79A60A85000000000000000000000000000010201A84E73744B000000005EB2EEC3F9FBE8F1A88F129CA2FBDC23717F79F7EDC7283EFCFCAC6B1D98047FEEAA22595EB2B9220002B333DD8E8E473F1B30545FD839232ECD7996F0144D1C56B1A846B78A6B47DBDFAD22030080E9F7E6930ED84B43E4192E6BB1B69D5F292885D0AC8FDCB5F9D9ECA0E181B71534391A68A436BFFBECC2F652D4FFE0BC857602BD9F3AD6CA2020D6D54F20E50BD4DBCA6E
(Saved to file wallet-query.boc)
root@ton-testnet-validator-01:~/git_ton/crypto/smartcont#

для проверки
$ cd /home/validator/build_ton/utils
$ lite-client -a 185.95.213.104:8383 -p liteserver.pub
> runmethod -1:3333333333333333333333333333333333333333333333333333333333333333 participant_list
> sendfile /home/validator/git_ton/crypto/smartcont/wallet-query.boc
[ 1][t 2][1588787069.924818039][lite-client.cpp:1121][!testnode]        sending query from file /home/validator/git_ton/crypto/smartcont/wallet-query.boc
[ 3][t 2][1588787069.926442623][lite-client.cpp:1131][!testnode]        external message status is 1

7) 
Возвраты стейка после голосования
$ sudo -s
$ cd /home/validator/git_ton/crypto/smartcont
$ . setenv_sample

$ fift -s recover-stake.fif
> query_id for stake recovery message is set to 1588787476
Message body is x{47657424000000005EB2F914}
Saved to file recover-query.boc

$ fift -s wallet.fif my_wallet_id -1:3333333333333333333333333333333333333333333333333333333333333333 2 1. -B recover-query.boc
>Source wallet address = -1:90ce283ea5bbef1968cde232453a2d238204ff6cec4670a7230024815735a3a3
kf-Qzig-pbvvGWjN4jJFOi0jggT_bOxGcKcjACSBVzWjo1Yx
Loading private key from file my_wallet_id.pk
Transferring GR$1. to account kf8zMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzM_BP = -1:3333333333333333333333333333333333333333333333333333333333333333 seqno=0x2 bounce=-1
Body of transfer message is x{47657424000000005EB2F914}
StateInit is x{4_}
signing message: x{0000000203}
 x{627F9999999999999999999999999999999999999999999999999999999999999999A1DCD650000000000000000000000000000047657424000000005EB2F914}
resulting external message: x{89FF219C507D4B77DE32D19BC4648A745A470409FED9D88CE14E46004902AE6B47460236927E619EC3B1D63E6BD6B1E668A08DA6012A608DCF09474216ED58ACEBF3903C8ACA92E26832D51A859EF5BFF840D37CF14E0B6B549C5EBB37528B47AE4808000000101C_}
 x{627F9999999999999999999999999999999999999999999999999999999999999999A1DCD650000000000000000000000000000047657424000000005EB2F914}
B5EE9C724101020100AD0001CF89FF219C507D4B77DE32D19BC4648A745A470409FED9D88CE14E46004902AE6B47460236927E619EC3B1D63E6BD6B1E668A08DA6012A608DCF09474216ED58ACEBF3903C8ACA92E26832D51A859EF5BFF840D37CF14E0B6B549C5EBB37528B47AE4808000000101C010080627F9999999999999999999999999999999999999999999999999999999999999999A1DCD650000000000000000000000000000047657424000000005EB2F914CA680EBD
(Saved to file wallet-query.boc)


$ cd /home/validator/build_ton/utils
$ lite-client -a 185.95.213.104:8383 -p liteserver.pub

> sendfile /home/validator/git_ton/crypto/smartcont/wallet-query.boc
[ 1][t 1][1588787937.119655371][lite-client.cpp:1121][!testnode]        sending query from file /home/validator/git_ton/crypto/smartcont/wallet-query.boc
[ 3][t 1][1588787937.131575346][lite-client.cpp:1131][!testnode]        external message status is 1

https://test.ton.org/Validator-HOWTO.txt